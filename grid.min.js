$(".draggable_section").each(function(e){let t=$(this),a=$(this).find(".draggable_canvas"),i="draggable_list",o=$(this).find("."+i),l=".draggable_item",_=$(this).find(".draggable_title_text"),n=$(this).find(".draggable_item"),s=$(this).find(".draggable-scale"),r=n.css("opacity"),d=81;n.length%9==0&&(n.last().remove(),n=$(this).find(l));let g=n.length;for(let c=d;c<g;c++)n.eq(c).remove();for(;g<d;)n.each(function(e){g<d&&($(this).clone().appendTo(o),g++)});n=$(this).find(l),gsap.set(o,{width:"900%",height:"900%"}),gsap.set(n,{width:"11.11111111111111%",height:"11.11111111111111%"}),gsap.fromTo(a,{opacity:0},{opacity:1});let u=$(this).find(".draggable_img"),p=gsap.timeline({paused:!0}),h=gsap.timeline({paused:!0});p.to(a,{scale:.75,duration:1,ease:"power1.out"}),h.to(a,{scale:1,duration:1,ease:"power1.out"});let f=gsap.timeline({paused:!0,defaults:{duration:.4,ease:"power3.out"}});function b(e,t){let a=n.eq((Math.round(8*t)+1-1)*9+(Math.round(8*e)+1)-1);_.text(a.find(".draggable_title").text()),gsap.to(n,{opacity:.5,duration:.5,ease:"power2.out"}),gsap.to(a,{opacity:1,duration:.5,ease:"expo.out"})}f.fromTo(u,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)"},{clipPath:"polygon(2% 2%, 98% 2%, 98% 98%, 2% 98%)"}),f.to(s,{scale:1.1},"<"),f.to(_,{filter:"blur(30px)",opacity:0,yPercent:100},"<");let m=new Dragdealer(a[0],{handleClass:i,x:.5,y:.5,steps:9,horizontal:!0,vertical:!0,speed:.5,loose:!0,slide:!0,requestAnimationFrame:!0,dragStartCallback:function(e,a){t.addClass("is-grabbing"),gsap.to(n,{opacity:r,duration:.25}),f.play(),p.restart()},dragStopCallback:function(e,a){t.removeClass("is-grabbing"),f.reverse(),h.restart()},callback:function(e,t){b(e,t)}});b(m.getValue()[0],m.getValue()[1])});
